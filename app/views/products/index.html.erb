<% if @model %>
  <% title t(:products_for_object, :scope => [ :marketplace, :products ], :count => @indexer.collection.total_entries, :object => link_to_resource(@model)) %>
<% elsif @offer %>
  <% title t(:products_for_object, :scope => [ :marketplace, :products ], :count => @indexer.collection.total_entries, :object => link_to_resource(@offer)) %>
<% else %>
  <% title tp(:product, :scope => [ :marketplace ]) %>
<% end %>

<%= render_indexer(@indexer) %>

<% page_action icon_link_to(:search, t(:search), search_products_path) %>
<% if current_vendor %>
  <% page_action icon_link_to(:watched, t(:view_object, :object => t(:inventory_for_object, :scope => [ :marketplace ], :object => h(current_vendor.name))), vendor_prices_path(current_vendor)) %>
<% end %>
<% if is_editor_of?(@model) %>
  <% page_action icon_link_to(:add, t(:create_object, :object => t(:product, :scope => [ :marketplace ])), new_model_product_path(@model)) %>
<% end %>
