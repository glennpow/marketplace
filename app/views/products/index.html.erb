<% title tp(:product, :scope => [ :marketplace ]) %>

<% if @model %>
  <%= render_heading(t(:products_for_object, :scope => [ :marketplace, :products ], :count => @indexer.collection.total_entries, :object => link_to_resource(@model))) %>
<% elsif @offer %>
  <%= render_heading(t(:products_for_object, :scope => [ :marketplace, :products ], :count => @indexer.collection.total_entries, :object => link_to_resource(@offer))) %>
<% else %>
  <%= render_heading(tp(:product, :scope => [ :marketplace ])) %>
<% end %>

<%= render_actions([
  icon_link_to(:search, t(:search), search_products_path),
  current_vendor ? icon_link_to(:watched, t(:view_object, :object => t(:inventory_for_object, :scope => [ :marketplace ], :object => h(current_vendor.name))), vendor_prices_path(current_vendor)) : nil,
  @model && is_editor_of?(@model) ? icon_link_to(:add, t(:create_object, :object => t(:product, :scope => [ :marketplace ])), new_model_product_path(@model)) : nil
]) %>

<%= render_indexer(@indexer) %>
